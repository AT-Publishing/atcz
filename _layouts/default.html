<!DOCTYPE html>
<html>
 {% include head.html %}
  <body>
   <div id="main" class="">

    {% include nav.html %}

   <div class="row no-gutters">

    <div class="col-md-4 col-sm-4 xs-margin-bottom-ten table-patch">
     <section>
       {{ content }}
     </section>
    </div><!-- container -->
    <div class="col-md-4 col-sm-4 xs-margin-bottom-ten table-patch">
     <section class="blog-popular">
       <div class="tbl-header">
         <table cellpadding="0" cellspacing="0" border="0">
           <thead>
             <tr>
               <th colspan="3">Nejčtenější příspěvky na blogu</th>
             </tr>
           </thead>
         </table>
       </div>
       <div class="tbl-content">
         <table cellpadding="0" cellspacing="0" border="0">
             <tbody>

      {% for post in site.posts %}
         {% if post.tags contains 'popular' %}
          <tr>
            <td>
              <a class="index-internal" href="{{site.baseurl}}{{ post.url }}" title="{{ post.title }}">
                {{ post.title }}
              </a>
            </td>
            <td>{{ post.description }}</td>
            <td>Publikováno {{ post.date | date: "%d.%m.%Y" }}{% if post.update %}, aktualizováno {{ post.update | date: "%d.%m.%Y" }}{% endif %}</td>
          </tr>
        {% endif %}
      {% endfor %}


             </tbody>
         </table>
       </div>
     </section>
    </div><!-- container -->
    <div class="col-md-4 col-sm-4 xs-margin-bottom-ten sidebar">
      <section class="text-content">
        {% raw %}

        <h4>Best crypto exchange in 2018?</h4>
        <p style="text-align:center">Comments for section <b>{{ active }}</b></p>

        <div v-bind:class="active">
          <div class="home" v-html="content.home"></div>
          <div class="coins" v-html="content.coins"></div>
          <div class="card" v-html="content.card"></div>
          <div class="fiat" v-html="content.fiat"></div>
        </div>

        {% endraw %}
      </section>
    </div>

    </div><!-- main -->

    <div class="row blog">
      <div class="col-md-12 ">
        <h4>Poslední články na blogu</h4>
      </div>
    </div>

    {% include blog3.html %}

    <div class="row blog" style="margin-bottom: 20px;">
      <div class="col-md-12 ">
        <a class="btn btn-black btn-small margin-four no-margin-bottom" href="/blog">Zobraz všechny příspěvky na blogu</a>
      </div>
    </div>

    <div class="container-center">
      <hr>
       {{ site.ledger_728-90_animated }}
      <hr>
    </div>

    <div class="row blog">
      <div class="col-md-12 ">
        <h4>Články ze sekce kryptotrading strategie</h4>
      </div>
    </div>

    {% include strategie3.html %}

    <div class="row blog" style="margin-bottom: 20px;">
      <div class="col-md-12 ">
        <a class="btn btn-black btn-small margin-four no-margin-bottom" href="/strategie">Zobraz všechny články o trading strategii</a>
      </div>
    </div>

    {% include footer.html %}


    <script type="text/javascript">
    var demo = new Vue({
    el: '#main',
    data: {
      active: 'home',
      content: {
        home: '',
        coins: '',
        card: '',
        fiat: ''
      },
      gridData: {
          index: "-",
          hchange: "-",
          eth_price: "-",
          eth_hchange: "-",
          xrp_price: "-",
          xrp_hchange: "-",
          ltc_price: "-",
          ltc_hchange: "-",
          xmr_price: "-",
          xmr_hchange: "-",
          bch_price: "-",
          bch_hchange: "-"
        }
    },
    filters: {
        moment: function(str) {
          var d = new Date(str);
          if (moment(d).isValid() ) {
            return moment(d).format('MMMM Do \'YY, h:mm a') + " UTC";
          } else {
            return "-";
          }
        },
        bitcoins: function(str) {
          var dp = Math.round(str * 100000000) / 100000000
          if (isNaN(dp)) {
            return "-"
          } else {
            return dp + " BTC"
          }
        },
        percents: function(str) {
          var dp = Math.round(str * 100000) / 100000
          if (isNaN(dp)) {
            return "-"
          } else {
            return dp + " %"
          }
        }
    },
    methods: {
      makeActive: function(item){
        this.active = item;
      },
      getIndexes () {
          var vm = this
          setInterval(function() {
          vm.$http.get("https://data.altcointrading.net/api/chartdata.json")
            .then(function (response) {
              var arr = response.data.data
              vm.gridData.index = arr[0].index
              vm.gridData.hchange = ( arr[0].index - arr[11].index ) / arr[0].index
            })
            .catch(function (error) {
              vm.gridData = error
            })
          }, 1000)
      },
      getCoins () {
          var vm = this
          setInterval(function() {
            vm.$http.get("https://data.altcointrading.net/api/ticker.json")
              .then(function (response) {
                var arr = response.data["BTC_ETH"]
                 vm.gridData.eth_price = arr["last"]
                 vm.gridData.eth_hchange = arr["percentChange"]
                var arr = response.data["BTC_XMR"]
                 vm.gridData.xmr_price = arr["last"]
                 vm.gridData.xmr_hchange = arr["percentChange"]
                var arr = response.data["BTC_LTC"]
                  vm.gridData.ltc_price = arr["last"]
                  vm.gridData.ltc_hchange = arr["percentChange"]
                var arr = response.data["BTC_XRP"]
                    vm.gridData.xrp_price = arr["last"]
                    vm.gridData.xrp_hchange = arr["percentChange"]
                var arr = response.data["BTC_BCH"]
                    vm.gridData.bch_price = arr["last"]
                    vm.gridData.bch_hchange = arr["percentChange"]
              })
          }, 1000)

        }
    },
    mounted: function() {
        this.getIndexes()
        this.getCoins()
      }
    })
    </script>
  </body>
</html>
